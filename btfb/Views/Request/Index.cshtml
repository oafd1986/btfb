@model IEnumerable<btfb.Models.DbAccessModel.Request>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var requestGrid = new WebGrid(Model, canPage:true,rowsPerPage:20);
}
<script type="text/javascript">
    $(document).ready(function () {
        $($('#RequestGrid tr:first th')[7]).addClass('hide-this-960');
        $($('#RequestGrid tr:first th')[8]).addClass('hide-this-960');
        $($('#RequestGrid tr:first th')[9]).addClass('hide-this-960');

        $($('#RequestGrid tr:first th')[4]).addClass('hide-this-820');
        $($('#RequestGrid tr:first th')[5]).addClass('hide-this-820');
        $($('#RequestGrid tr:first th')[6]).addClass('hide-this-820');

        $($('#RequestGrid tr:first th')[1]).addClass('hide-this-414');
        $($('#RequestGrid tr:first th')[2]).addClass('hide-this-414');
       
        
    })
</script>
<h3>Requests</h3>

<p>

    @Html.ActionLink("Create New", "Create", null, new { @class = "btn btn-info btn-sm" })
</p>
<hr />
<div class="row">
    <div class="col-md-2"><input type="text" name="filter" class="form-control form-control-sm" placeholder="Search.." ></div>
</div>
<div class="row margin-top-05">
    <div class="col-md-12">
        @MvcHtmlString.Create(
     requestGrid.GetHtml(
         htmlAttributes: new
         {
             id = "RequestGrid",
             @class = "table table-striped table-bordered table-hover table-condensed smallerFontSize"
         },
         columns: requestGrid.Columns(
             requestGrid.Column("RequestId", "Request Id"),
             requestGrid.Column("FirstName", "Name", style: "hide-this-414"),
             requestGrid.Column("LastName", "Last Name", style: "hide-this-414"),
             requestGrid.Column("email", "Email"),
             requestGrid.Column("phone", "Phone", style: "hide-this-820"),
             requestGrid.Column("MakeName", "Make", style: "hide-this-820"),
             requestGrid.Column("ModelName", "Model", style: "hide-this-820"),
             requestGrid.Column("Year", "Year", style: "hide-this-960"),
             requestGrid.Column("Runs", format: @<text>@(item.Runs == true ? "Y" : "N" )</text>, style: "hide-this-960"),
             requestGrid.Column("Price", "Price", style: "hide-this-960"),
             requestGrid.Column("Edit", format:@<a href="@Url.Action("Edit", "Request",new { id=item.RecordId})" class="btn btn-light btn-sm" title="Edit"><span class="fa fa-pencil-square-o fa-fw" aria-hidden="true"></span></a>, canSort: false),
             requestGrid.Column("Details", format:@<a href="@Url.Action("Details", "Request",new { id=item.RecordId})" class="btn btn-light btn-sm" title="Details"><span class="fa fa-info fa-fw" aria-hidden="true"></span></a>, canSort: false),
             requestGrid.Column("Delete", format:@<a href="@Url.Action("Delete", "Request",new { id=item.RecordId})" onclick="return confirm('Are you sure you want to delete this Request?');" class="btn btn-light btn-sm" title="Delete"><span class="fa fa-trash fa-fw" aria-hidden="true"></span></a>, canSort: false)
                )
            ).ToHtmlString()
      )
    </div>
</div>
<!--This is temporary for next version create a html helper to handle the options of the grid-->


