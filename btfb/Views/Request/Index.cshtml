@model IEnumerable<btfb.Models.DbAccessModel.Request>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var requestGrid = new WebGrid(Model, canPage:true,rowsPerPage:20);
}

<h3>Requests</h3>

<p>

    @Html.ActionLink("Create New", "Create", null, new { @class = "btn btn-info btn-sm" })
</p>
<!--This is temporary for next version create a html helper to handle the options of the grid-->
@MvcHtmlString.Create(
    requestGrid.GetHtml(
        htmlAttributes: new
        {
            id = "RequestGrid",
            @class = "table table-striped table-bordered table-hover table-condensed smallerFontSize"
        },
        columns: requestGrid.Columns(
            requestGrid.Column("RequestId", "Request Id"),
            requestGrid.Column("FirstName", "Name"),
            requestGrid.Column("LastName", "Last Name"),
            requestGrid.Column("email", "Email"),
            requestGrid.Column("phone", "Phone"),
            requestGrid.Column("MakeName", "Make"),
            requestGrid.Column("ModelName", "Model"),
            requestGrid.Column("RequestId", "Request Id"),
            requestGrid.Column("Year", "Year"),
            requestGrid.Column("Runs", format: @<text>@(item.Runs == true ? "Y" : "N" )</text>),
            requestGrid.Column("Price", "Price"),
            requestGrid.Column("Edit", format:@<a href="@Url.Action("Edit", "Request",new { id=item.RecordId})" class="btn btn-light btn-sm" title="Edit"><span class="fa fa-pencil-square-o fa-fw" aria-hidden="true"></span></a>,canSort:false),
            requestGrid.Column("Details", format:@<a href="@Url.Action("Details", "Request",new { id=item.RecordId})" class="btn btn-light btn-sm" title="Details"><span class="fa fa-info fa-fw" aria-hidden="true"></span></a>, canSort: false),
            requestGrid.Column("Delete", format:@<a href="@Url.Action("Delete", "Request",new { id=item.RecordId})" onclick="return confirm('Are you sure you want to delete this Request?');" class="btn btn-light btn-sm" title="Delete"><span class="fa fa-trash fa-fw" aria-hidden="true"></span></a>, canSort: false)
               )
           ).ToHtmlString()
     )

